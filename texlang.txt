ams宏集是美国数学学会（American Mathmatical Society）提供的对late原生数学公式排版的扩展，其核心是amsmat宏包，对多行公式的排版提供了有力的支持。此外，amsfonts宏包以及给予它的amssymb宏包提供了丰富的数学符号；amsthm宏包扩展了latex定理整蒙格式。

本章介绍的许多命令和环境依赖于amsmath宏包。这额命令和环境将以蓝色示意。

4.2 公式排版基础

数学公式有两种排版方式：其一是与文字混排，称为行内公式；其二是单独列为一行排版，称为行间公式。

行内公式由一对$符号包裹：

单独成行的行间公式在latex里由equation环境包裹。equation环境为公式自动生成一个编号，这个编号可以用\label和\ref生成交叉引用，amsmath的\eqref命令甚至为引用自动加上圆括号；还可以用\tag命令手动修改公式的编号，或者用\notag命令取消为公式编号。

当然你不会原以为每个公式都手动取消编号。latex提供了一对命令\[和\]用于生成不带编号的行间公式，与之等效的是displaymath环境。有的人更喜欢equation*环境，体现了带星号和不带型号的环境之间的区别。

行间公式的对齐、编号位置等性质由文档类型选项控制，文档类的fleqn选项令行间公式左对齐；leqno选项令标号放在公式左边。

4.2.1 数学模式和文本

当……你就进入了所谓的数学模式。相比于文本模式，数学模式有以下特点：
1）输入的空格全部被忽略。当需要人为引入空隙时，使用\quad和\qquad等命令。
2）不允许有空行，公式也无法自动换行或者用\\换行。
3）所有的字母被当作数学公式中的变量处理，字母间距与文本模式不一致，也无法生成单词之间的空格。如果想在数学公式中输入正体的文本，简单情况下可用\mathrm命令。或者用amsmath提供的\text命令。

4.3 数学符号

本届我们将接触到形形色色的数学符号，它们是latex卓越数学公式排版能力的基础。latex默认提供了常用的数学符号，amssymb宏包提供了一些次常用的符号。大多数常用的数学符号都能在本章末尾的4.9节列出的各个表格里查到。

4.3.1 一般符号

希腊字母符号的名称就是其英文名称，如 \alpha \beta等等。大写的希腊字母为首字母大写的命令，如\Gamma \Delta等等。无穷大符号为\nfty。更多符号命令可参考表。

省略号由 \dots 和 \cdots 两种形式。它们有各自的用途：

\ldots 和 \dots 是完全等效的，它们就能用在公式中，也用来在文本里作为省略号。除此之外，在矩阵中可能会用到竖排的 \vdots 和 斜排的 \ddots。

4.3.2 指数、上下标和导数

在latex中用^和_表明上下标。注意上标的内容（子公式）一般需要要用花括号包裹，否则上下标只对后面的一个符号起作用。

导数符号'(')是一类特殊的上标，可以是但该你用表示多阶导数，也可以在其后连用上标：

4.3.3 分式和根式

分式使用 \frac{分子}{分母}来书写。分式的大熊子啊行间公式中是正常大小，而在行内被极度压缩。amsmath提供了方便的命令 \dfrac 和 \tfrac，令用户能够在行内使用正常大小的行间公式，或者反过来。

一般的根式使用 \sqrt{...}；表示n次方根时写成\sqrt[n]{...}。

特殊的分式形式，如二项式结构，由 amsmath 宏包的 \binom 命令生成：

4。3.4 关系符

latex常见的关系符号除了可以直接输入的 =，>，<，其它符号用命令输入，常用的由不等号 \ne 、大于等于号 \ge 和小于等于号 \le 、 与等号 \approx 、 等价 \equiv 、 正比 \propto 、 相似 \sim 等等。

4.3.5 算符

latex中的算符大多数是二元算符，除了直接用键盘可以输入的 +、-、*、/，其它符号用命令输入，常用的有乘号 \times 、除号 \div、点乘 \cdot、加减号 \pm / \mp等等。

\nable 和 \parial 也是蟾宫的算符，虽然它们不属于二元算符。

latex将数学函数的名称作为一个算符排版，字体为直立字体。其中有一部分符号在上下位置可以书写一些内容作为条件，类似于后文所叙述的巨运算符。

对于求模表达式，latex提供了\pmod和\bmod命令，前者相当于一个二元运算符，后者作为同余表达式的后缀。

4.3.6 巨运算符

积分号、求和号等等符号称为巨算符。巨算符在行内公式和行间公式的大小和形状有区别。

巨算符的上下标用作其上下限。

4.3.7 数学重音和上下括号

数学符号可以像蚊子一样加重音，比如对时间求导的符号、表示向量的箭头，表示欧氏空间单位向量的等。使用时要注意重音符号的作用区域，一般应当对某个符号而不是“符号加下标”是哦那个重音：

latex也能为多个字符加重音，包括直接划线的 \overline 和 \underline 命令等。

4.3.8 箭头

4.3.9 括号和定界符

latex提供了多种括号和定界符表示公式块的边界。除小括号（）、中括号[]、之外，其余都是latex命令，包括大括号\{\}。

使用 \left 和 \right命令可令括号的大小可变，在行间公式中常用。latex会自动根据括号内的公式大小决定。\left和\right必须成对使用。需要使用单个定界符时，另一个定界符写成\left.或\right.。

有时我们不满意于latex为我们自动调节的定界符大小。这时沃恩还可以用 \big、 \bigg等命令生成固定大小的定界符。通常的形式时类似 \left 的 \bigl、 \biggl等，以及类似 \right 的 \bigr 、 \bigger等。

4.4 多行公式

4.4.1 长公式折行

通常来讲应当避免写出超过一行的需要折行的长公式。如果一定要折行的话，有限在等号之前折行，其次在加号、减号之前，再次在乘号、除号之前。其它位置应当避免折行。

amsmath宏包的multline环境提供了书写折行长公式的方便环境。它允许用\\折行，将公式编号放在最后一行。多行公式的首航左对齐，末行右对齐，其余行居中。

4.4.2 多行公式

更多的情况是，我们需要罗列一系列公式，并令其按照等号对齐。

目前最常用的时align环境，它将公式用&各位两部分对齐。分隔符通常放在等号左边：

align环境会给每行公式都编号。我们仍然可以用 \notag 去掉某行的编号。

4.5 数组和矩阵

为了排版二位数组，latex提供了array黄静，用法与tabular环境极为类似，也需要定义列格式，并用\\换行。数组可作为一个公式块，在外套用\left、\right等定界符：

4.7 数学符号的字体控制

4.7.1 数学字母字体

4.7.3 加粗的数学符号

4.8 定理环境

使用latex排版数学和其他科技文档时，会接触到大量的定理、证明等内容。latex提供了一个基本的命令\newtheorem提供定理环境的定义：
\newtheorem{<type>}{<title>}[<section-name>]
\newtheorem{<type>}[<counter>]{<title>}
<type>为定理类型的名称，作为一个环境来使用。定理环境都需要定义，latex里没有现成的theorm环境，直接使用很可能会出错。<title>是定理类型的标签（“定理”，“公理”等），排版在序号之前。

定理的序号由两个可选参数之一决定，它们不嫩那个同时使用：
<section name>为章节名称，这事定理幼称为章节的下一级序号；
<counter>为用 \newcounter自定义的计数器名称，定理序号由这个计数器管理。

如果有两个可选参数都不用的话，则使用一个默认的计数器。

4.8.1 amsthm宏包

latex只给了原始的证明环境格式。如果需要修改格式，则要以来其它的宏包。本小节简单介绍一下amsthm的用法。